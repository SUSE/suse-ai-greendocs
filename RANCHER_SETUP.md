# Adding SUSE AI Charts to Rancher UI

## Quick Setup Guide

### Step 1: Enable GitHub Pages

1. Go to your GitHub repository settings
2. Navigate to **Pages** section
3. Set **Source** to "GitHub Actions"
4. The workflow will automatically publish your charts

**Repository URL will be:**
```
https://suse.github.io/suse-ai-greendocs
```

### Step 2: Add to Rancher UI

#### Option A: Through Rancher UI
1. Go to **Apps & Marketplace** â†’ **Chart Repositories**
2. Click **Create**
3. **Name**: `SUSE AI Demo Charts`
4. **Target**: `Git repository containing Helm chart or cluster template definitions`
5. **Git Repo URL**: `https://github.com/SUSE/suse-ai-greendocs.git`
6. **Git Branch**: `charts-for-ai-demo-apps`
7. Click **Create**

#### Option B: Direct Helm Repository (After GitHub Pages is enabled)
1. Go to **Apps & Marketplace** â†’ **Chart Repositories** 
2. Click **Create**
3. **Name**: `SUSE AI Demo Charts`
4. **Target**: `HTTP(S) URL to an index generated by Helm`
5. **Index URL**: `https://suse.github.io/suse-ai-greendocs/index.yaml`
6. Click **Create**

### Step 3: Deploy Charts

1. Go to **Apps & Marketplace**
2. Find **SUSE AI HR Assistant** in your custom repository
3. Click **Install**
4. Configure values:
   ```yaml
   # Enable GPU for full demo (optional)
   ollama:
     gpu:
       enabled: true
   collectGpuStats: true
   
   # Configure OTLP endpoint for your observability
   otlpEndpoint: 'http://your-otel-collector:4318'
   ```

### Step 4: Access Demo Applications

After installation, the chart creates:
- **HR Assistant**: `hr-assistant-suse-ai-hr-assistant-hr-assistant:8000`
- **HR Policy DB**: `hr-assistant-suse-ai-hr-assistant-hr-policy-db:8000`  
- **Employee Handbook**: `hr-assistant-suse-ai-hr-assistant-employee-handbook:8000`

## Alternative: OCI Registry Method

For enterprise environments, you can also use OCI registries:

```bash
# Package and push to OCI registry
helm package charts/suse-ai-hr-assistant
helm push suse-ai-hr-assistant-*.tgz oci://your-registry.com/charts

# In Rancher, add OCI repository:
# Repository URL: oci://your-registry.com/charts
```

## Troubleshooting

### Chart Not Showing in Rancher
- Verify repository URL is accessible
- Check GitHub Pages deployment status
- Ensure `index.yaml` exists at repository root

### Installation Fails
- Check OTLP endpoint connectivity
- Verify GPU nodes available (if GPU enabled)
- Review pod logs: `kubectl logs -l app.kubernetes.io/name=suse-ai-hr-assistant`

### GitHub Pages Setup
If you need to manually enable GitHub Pages:
1. Repository â†’ Settings â†’ Pages
2. Source: "GitHub Actions"
3. The `chart-release.yml` workflow handles the rest

Your charts are now ready for enterprise deployment through Rancher! ðŸš€